model User {
    id       BigInt @id @default(autoincrement())
    name     String
    username String @unique
    password String
    role     String @db.VarChar(50)

    userSessions UserSession[]
    orders       Order[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("users")
}

model UserSession {
    id              BigInt @id @default(autoincrement())
    accessTokenJti  String @unique
    refreshTokenJti String @unique

    ipAddress String

    userId BigInt
    user   User   @relation(fields: [userId], references: [id])

    loggedOutAt   DateTime?
    revokedAt     DateTime?
    expireAt      DateTime
    lastRefreshAt DateTime  @default(now())
    createdAt     DateTime  @default(now())

    @@map("user_sessions")
}
